<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="A demo of a payment on Stripe" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Payment Form | TeknoyMart</title>
    <link
      rel="stylesheet"
      href="/webjars/bootstrap/5.3.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="/webjars/bootstrap-icons/1.11.3/font/bootstrap-icons.css"
    />
    <script src="https://js.stripe.com/v3/"></script>
    <script th:inline="javascript">
      /*<![CDATA[*/
      var publicKey = /*[[${publicKey}]]*/ null;
      var email = /*[[${email}]]*/ null;
      var totalOrderPrice = /*[[${totalOrderPrice}]]*/ null;
      /*]]>*/
    </script>
    <link rel="stylesheet" href="/css/checkout.css" />
  </head>
  <body
    class="sc-teknoymart-body d-flex align-items-center justify-content-center min-vh-100"
  >
    <div class="sc-teknoymart-container col-md-4">
      <div class="text-center mb-4">
        <a href="/">
          <img
            src="/images/Tekmart.svg"
            alt="TeknoyMart Logo"
            height="100px"
            width="100px"
          />
        </a>
      </div>
      <h2 class="text-center mb-4 fw-bold sc-teknoymart-title">Payment Form</h2>
      <div class="mb-3 text-center">
        <small>You are about to make a payment of: </small>
        <small th:text="${totalOrderPrice}"></small>
        <small>PHP</small>
      </div>
      <form id="payment-form">
        <div id="link-authentication-element" class="mb-3">
          <!--Stripe.js injects the Link Authentication Element-->
        </div>
        <div id="payment-element" class="mb-3">
          <!--Stripe.js injects the Payment Element-->
        </div>
        <div class="d-flex flex-row align-items-center justify-content-start mt-2">
          <button
            id="submit"
            class="btn sc-teknoymart-btn py-2 rounded mx-1"
          >
            <div
              id="spinner"
              class="spinner-border spinner-border-sm me-2"
              role="status"
            ></div>
            <span id="button-text">Proceed to Payment</span>
          </button>
          <a
            href="/user/cart"
            type="button"
            class="btn btn-secondary py-2 rounded mx-1"
          >
            Cancel
          </a>
        </div>
        <div id="payment-message" class="mt-3 text-center text-danger"></div>
      </form>
      <footer class="text-center text-muted small mt-4">
        <p>
          Copyright Â© 2024 TeknoyMart Inc. All Rights Reserved.
          <i class="bi bi-info-circle"></i>
        </p>
      </footer>
    </div>

    <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>
    <script src="/webjars/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="/js/checkout.js" defer></script>
  </body>
</html>
